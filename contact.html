<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact & Devis | LPA</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style>
/* ======================================================= */
/* CONFIGURATION GÉNÉRALE & TYPOGRAPHIE */
/* ======================================================= */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Roboto', Arial, sans-serif;
    padding-top: 80px;
    background-color: #EBEBEB;
    color: #333;
    line-height: 1.7; 
    scroll-behavior: smooth;
}

.container {
    max-width: 1000px; 
    margin: 30px auto;
    padding: 0 25px;
}

section {
    background-color: #fff;
    padding: 50px 40px;
    margin-bottom: 30px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
}

h2 {
    font-family: 'Poppins', sans-serif;
    font-size: 2.5rem;
    color: #4F9BCC;
    text-align: center;
    border-bottom: 2px solid #e0e0e0;
    padding-bottom: 15px;
    margin-bottom: 40px;
}

p {
    font-size: 1.15rem; 
    line-height: 1.8;
}

/* ======================================================= */
/* BANNIÈRE DE CONTACT AVEC ANIMATION */
/* ======================================================= */
.contact-banner {
    height: 300px;
    background-image: linear-gradient(rgba(3, 120, 166, 0.6), rgba(79, 155, 204, 0.6)), 
                      url('https://images.unsplash.com/photo-1576086213369-97a306d36557?w=1200');
    background-size: cover;
    background-position: center;
    border-radius: 10px;
    margin-bottom: 30px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
    overflow: hidden; 
    position: relative;
}

.contact-banner::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit; 
    background-size: 110%; 
    transition: all 0.5s ease-out; 
    animation: zoomEffect 30s infinite alternate; 
}

.contact-banner::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.3); 
    border-radius: 10px;
    z-index: 1; 
}

.banner-text-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    color: #fff; 
    z-index: 2; 
    padding: 20px;
}

.banner-text-overlay h1 {
    font-family: 'Poppins', sans-serif;
    font-size: 3.5rem; 
    margin: 0;
    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.8); 
    line-height: 1.2;
    font-weight: 700;
}

.banner-text-overlay p {
    font-family: 'Roboto', sans-serif;
    font-size: 1.5rem;
    margin-top: 15px;
    font-weight: 400;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
    border-top: 3px solid #0378A6; 
    padding-top: 10px;
}

@keyframes zoomEffect {
    0% {
        transform: scale(1);
        background-position: center 30%;
    }
    100% {
        transform: scale(1.1);
        background-position: center 70%;
    }
}

/* ======================================================= */
/* EN-TÊTE (HEADER) ET NAVIGATION */
/* ======================================================= */
header {
    background-color: #4F9BCC;
    color: #fff;
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    min-height: 70px;
}

#nav-full-container {
    display: flex;
    align-items: center;
    flex-grow: 1;
    justify-content: flex-end;
}

header .logo img { 
    height: 50px; 
    vertical-align: middle; 
}

.hamburger {
    display: none;
    cursor: pointer;
    background: none;
    border: none;
    padding: 10px;
    z-index: 1001;
}

.bar {
    display: block;
    width: 28px;
    height: 3px;
    margin: 5px auto;
    background-color: #fff;
    transition: all 0.3s ease-in-out;
}

.hamburger.active .bar:nth-child(1) {
    transform: translateY(8px) rotate(45deg);
}

.hamburger.active .bar:nth-child(2) {
    opacity: 0;
}

.hamburger.active .bar:nth-child(3) {
    transform: translateY(-8px) rotate(-45deg);
}

nav { 
    flex-grow: 1; 
    text-align: center; 
}

nav ul { 
    list-style: none; 
    margin: 0; 
    padding: 0; 
    display: inline-block; 
}

nav ul li { 
    display: inline-block; 
    margin-left: 30px; 
}

nav a { 
    color: #fff; 
    text-decoration: none; 
    font-weight: bold; 
    font-size: 1.1rem; 
    padding: 5px 0; 
    position: relative; 
    transition: color 0.3s ease; 
}

nav a::after {
    content: ''; 
    position: absolute; 
    left: 0; 
    bottom: -5px; 
    width: 0; 
    height: 3px;
    background-color: #0378A6; 
    transition: width 0.3s ease-in-out; 
}

nav a:hover::after, 
nav a.active::after { 
    width: 100%; 
}

nav a:hover { 
    color: #0378A6; 
}

.contact-info { 
    display: flex; 
    gap: 20px; 
    align-items: center; 
    margin-left: 40px; 
}

.contact-info .contact-link { 
    color: #fff; 
    text-decoration: none; 
    font-size: 1rem; 
    padding: 5px 10px; 
    border: 1px solid rgba(255, 255, 255, 0.3); 
    border-radius: 5px; 
    transition: background-color 0.3s ease; 
}

.contact-info .contact-link:hover { 
    background-color: rgba(255, 255, 255, 0.2); 
}

/* ======================================================= */
/* STYLE DU FORMULAIRE */
/* ======================================================= */
.contact-form label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #333;
}

.form-grid { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 15px 30px; 
    margin-bottom: 15px; 
}

.full-width { 
    grid-column: 1 / 3; 
}

.contact-form input:not([type="radio"]), 
.contact-form textarea, 
.contact-form select { 
    width: 100%; 
    padding: 12px; 
    border: 1px solid #ccc; 
    border-radius: 6px; 
    font-size: 1rem;
    font-family: 'Roboto', sans-serif;
    transition: border-color 0.3s; 
}

.contact-form input:focus, 
.contact-form textarea:focus, 
.contact-form select:focus { 
    border-color: #4F9BCC; 
    outline: none; 
    box-shadow: 0 0 5px rgba(79, 155, 204, 0.5); 
}

.contact-form button { 
    color: white; 
    padding: 15px; 
    border: none; 
    border-radius: 50px; 
    cursor: pointer; 
    font-size: 1.1rem; 
    font-weight: bold; 
    width: 100%; 
    background-color: #0378A6; 
    transition: background-color 0.3s ease, transform 0.3s ease, opacity 0.3s;
}

.contact-form button:hover { 
    background-color: #4F9BCC; 
    transform: translateY(-2px); 
}

.contact-form button:disabled {
    cursor: not-allowed;
    opacity: 0.6;
}

.radio-group {
    display: flex;
    gap: 20px;
    margin-top: 10px;
}

.radio-group label { 
    font-weight: normal; 
    color: #555; 
    display: inline-flex; 
    align-items: center; 
    cursor: pointer; 
}

.radio-group input[type="radio"] { 
    margin-right: 8px; 
    width: auto; 
    cursor: pointer;
}

.form-success {
    background-color: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}

.form-error {
    background-color: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
}

/* ======================================================= */
/* FOOTER */
/* ======================================================= */
footer { 
    background-color: #0378A6; 
    color: #fff; 
    padding: 30px 40px;
    font-size: 1rem; 
}

.footer-bottom { 
    text-align: center; 
    padding: 20px 0; 
}

.footer-bottom p {
    color: #fff;
    margin: 5px 0;
}

.developer-credit { 
    font-size: 0.85rem; 
    color: #ccc; 
}

/* ======================================================= */
/* BOUTON RETOUR EN HAUT */
/* ======================================================= */
#myBtn {
    display: none; 
    position: fixed; 
    bottom: 30px; 
    right: 30px; 
    z-index: 99; 
    border: none;
    outline: none;
    background-color: #0378A6;
    color: white; 
    cursor: pointer;
    padding: 15px;
    border-radius: 50%;
    font-size: 18px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: background-color 0.3s, transform 0.3s;
}

#myBtn:hover {
    background-color: #4F9BCC;
    transform: scale(1.1);
}

/* ======================================================= */
/* MEDIA QUERIES - RESPONSIVE */
/* ======================================================= */
@media (max-width: 992px) {
    .contact-banner {
        height: 250px;
    }
    
    .banner-text-overlay h1 {
        font-size: 2.5rem;
    }
    
    .banner-text-overlay p {
        font-size: 1.2rem;
    }
}

@media (max-width: 768px) {
    body { 
        padding-top: 70px; 
    }
    
    header {
        padding: 0.8rem 1.5rem;
        min-height: 60px;
    }
    
    .hamburger {
        display: block;
    }

    #nav-full-container {
        position: fixed;
        top: 70px; 
        left: 0;
        width: 100%;
        background-color: #4F9BCC; 
        flex-direction: column;
        align-items: center;
        z-index: 999;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease-in-out;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
    }
    
    #nav-full-container.active {
        max-height: 500px;
        padding: 20px 0;
    }

    nav { 
        width: 100%; 
        margin-bottom: 20px; 
        text-align: center;
    }
    
    nav ul { 
        display: block; 
        text-align: center; 
    }
    
    nav ul li { 
        display: block; 
        margin: 0; 
        padding: 10px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.15); 
    }
    
    nav ul li:last-child { 
        border-bottom: none; 
    }
    
    nav a { 
        font-size: 1.2rem;
    }
    
    nav a::after { 
        display: none; 
    }
    
    .contact-info { 
        width: 100%; 
        margin-left: 0; 
        flex-direction: column; 
        gap: 10px; 
        border-top: 1px solid rgba(255, 255, 255, 0.15); 
        padding-top: 20px;
    }
    
    .contact-info .contact-link { 
        width: 100%; 
        max-width: 300px;
        text-align: center; 
        background-color: #0378A6;
        padding: 10px;
        border: none;
    }
    
    section {
        padding: 30px 20px;
    }
    
    h2 {
        font-size: 1.8rem;
    }
    
    .form-grid { 
        grid-template-columns: 1fr; 
        gap: 15px; 
    }
    
    .full-width { 
        grid-column: 1 / 2; 
    }
    
    .radio-group { 
        flex-direction: column; 
        gap: 10px;
    }
    
    .contact-form button { 
        padding: 15px 10px; 
    }
    
    .contact-banner { 
        height: 220px; 
    }
    
    .banner-text-overlay h1 { 
        font-size: 1.8rem; 
    }
    
    .banner-text-overlay p { 
        font-size: 1.1rem; 
        padding-top: 5px; 
    }
    
    #myBtn {
        bottom: 20px;
        right: 20px;
        padding: 12px;
        font-size: 16px;
    }
}

@media (max-width: 480px) {
    header .logo img {
        height: 40px;
    }
    
    h2 {
        font-size: 1.5rem;
    }
    
    p {
        font-size: 1rem;
    }
    
    .contact-banner {
        height: 180px;
    }
    
    .banner-text-overlay h1 {
        font-size: 1.4rem;
    }
    
    .banner-text-overlay p {
        font-size: 0.95rem;
    }
    
    .contact-form input:not([type="radio"]), 
    .contact-form textarea, 
    .contact-form select {
        font-size: 0.95rem;
    }
}
    </style>
</head>
<body>

    <header>
        <div class="logo">
            <a href="index.html">
                <img src="LOGO LPA.jpg" alt="Logo de LPA">
            </a>
        </div>
        
        <div id="nav-full-container">
            <nav>
                <ul>
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="about.html">À Propos</a></li>
                    <li><a href="services.html">Nos services</a></li>
                    <li><a href="contact.html" class="active">Demande de devis</a></li>
                </ul>
            </nav>
            <div class="contact-info">
                <a href="tel:+2250707201696" class="contact-link"><i class="fas fa-phone"></i> +225 07 07 20 16 96</a>
                <a href="mailto:laboratoire1lpa@gmail.com" class="contact-link"><i class="fas fa-envelope"></i> Email</a>
            </div>
        </div>
        
        <button class="hamburger" id="hamburger-btn" aria-label="Ouvrir le menu de navigation">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
    </header>
    
    <main>
        <div class="container">
            
            <div class="contact-banner">
                <div class="banner-text-overlay">
                    <h1>CONTRÔLE QUALITÉ & CONFORMITÉ</h1>
                    <p>VOTRE PARTENAIRE DE CONFIANCE POUR LE MEILLEUR DE VOS PRODUITS</p>
                </div>
            </div>

            <section id="contact">
                <h2>Demande de Devis & Contact</h2>
                <p style="text-align: center; margin-bottom: 40px;">Remplissez le formulaire ci-dessous pour obtenir un devis personnalisé. Nous vous répondrons dans les plus brefs délais.</p>

                <div id="form-messages" style="display: none; padding: 15px; border-radius: 8px; margin-bottom: 20px; font-weight: bold; text-align: center;"></div>

                <form class="contact-form" id="devis-form" action="https://formspree.io/f/mdkwozgg" method="POST">
                    
                    <div class="form-grid">
                        
                        <div>
                            <label for="company">Nom de l'Entreprise / Organisation *</label>
                            <input type="text" id="company" name="company" required>
                        </div>
                        <div>
                            <label for="name">Votre Nom et Prénom *</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        
                        <div>
                            <label for="email">Email de contact *</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div>
                            <label for="phone">Téléphone *</label>
                            <input type="tel" id="phone" name="phone" placeholder="+225 xxxx xxxx" required>
                        </div>

                        <div class="full-width">
                            <label for="service">Domaine d'Analyse ou Service Requis *</label>
                            <select id="service" name="service" required>
                                <option value="" disabled selected>-- Sélectionnez un domaine --</option>
                                <option value="analyse-physico-chimique">Laboratoire (Analyses Physico-chimiques)</option>
                                <option value="analyse-microbiologique">Laboratoire (Analyses Microbiologiques)</option>
                                <option value="controle-conformite">Contrôle de Conformité (Produits/Denrées)</option>
                                <option value="traitement-eau-surface">Traitement d'Eau de Surface (Complet)</option>
                                <option value="traitement-eau-forage">Traitement d'Eau de Forage (Désinfection/Neutralisation)</option>
                                <option value="traitement-eau-usees">Traitement d'Eau Usée / Industrielle</option>
                                <option value="nettoyage-desinfection-reseau">Nettoyage et Désinfection de Réseau et Conduites</option>
                                <option value="prelevement">Prélèvement seul</option>
                                <option value="autre">Autre (précisez dans le message)</option>
                            </select>
                        </div>
                    </div>

                    <div class="full-width" style="margin-bottom: 15px;">
                        <label>Avez-vous déjà un échantillon prêt ?</label>
                        <div class="radio-group">
                            <label><input type="radio" name="sample_status" value="oui"> Oui, l'échantillon est prêt.</label>
                            <label><input type="radio" name="sample_status" value="non"> Non, le prélèvement est à prévoir.</label>
                        </div>
                    </div>
                    
                    <div class="full-width">
                        <label for="details">Détails de votre demande (Type d'analyse, quantité, urgence, etc.) *</label>
                        <textarea id="details" name="details" rows="7" required></textarea>
                    </div>
                    
                    <div class="full-width">
                        <button type="submit">Envoyer la Demande de Devis</button>
                        <input type="text" name="_gotcha" style="display:none" />
                    </div>
                </form>
            </section>
        </div>
    </main>

    <footer>
        <div class="footer-bottom">
            <p>Copyright &copy; 2025 LPA. Tous droits réservés.</p>
            <p class="developer-credit">Site développé par Jonathan N'GUETTIA</p>
        </div>
    </footer>
    
    <button onclick="topFunction()" id="myBtn" title="Retour en haut"><i class="fas fa-arrow-up"></i></button>

    <script>
        // Bouton retour en haut
        let mybutton = document.getElementById("myBtn");
        
        window.onscroll = function() { 
            scrollFunction() 
        };
        
        function scrollFunction() {
            if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }
        
        function topFunction() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Menu hamburger
        const hamburgerBtn = document.getElementById("hamburger-btn");
        const navFullContainer = document.getElementById("nav-full-container");
        const navLinks = document.querySelectorAll('#nav-full-container a'); 

        function toggleMenu() {
            navFullContainer.classList.toggle('active');
            hamburgerBtn.classList.toggle('active');
        }

        hamburgerBtn.addEventListener('click', toggleMenu);

        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (navFullContainer.classList.contains('active')) {
                    navFullContainer.classList.remove('active');
                    hamburgerBtn.classList.remove('active');
                }
            });
        });

        // Gestion de l'envoi de formulaire AJAX
        const form = document.getElementById('devis-form');
        const formMessages = document.getElementById('form-messages');
        const submitButton = form.querySelector('button[type="submit"]');

        form.addEventListener('submit', function(e) {
            e.preventDefault(); 
            
            formMessages.style.display = 'none';
            formMessages.classList.remove('form-success', 'form-error');
            submitButton.disabled = true;
            submitButton.textContent = 'Envoi en cours...';
            submitButton.style.opacity = '0.6';

            const data = new FormData(form);
            
            fetch(form.action, {
                method: form.method,
                body: data,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    formMessages.style.display = 'block';
                    formMessages.classList.add('form-success');
                    formMessages.textContent = '✅ Votre demande de devis a été envoyée avec succès ! Nous vous recontacterons très vite.';
                    form.reset();
                } else {
                    response.json().then(data => {
                        formMessages.style.display = 'block';
                        formMessages.classList.add('form-error');
                        if (Object.hasOwn(data, 'errors')) {
                            formMessages.textContent = '❌ Erreur : ' + data["errors"].map(error => error["message"]).join(", ");
                        } else {
                            formMessages.textContent = '❌ Une erreur est survenue lors de l\'envoi. Veuillez réessayer ou nous contacter par email.';
                        }
                    })
                }
            })
            .catch(error => {
                formMessages.style.display = 'block';
                formMessages.classList.add('form-error');
                formMessages.textContent = '❌ Une erreur de connexion est survenue. Veuillez vérifier votre réseau.';
            })
            .finally(() => {
                submitButton.disabled = false;
                submitButton.textContent = 'Envoyer la Demande de Devis';
                submitButton.style.opacity = '1';
                
                formMessages.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });
    </script>
</body>
</html>